# Итоговое задание по курсу по SQL
Батрутдинов Тимур

### Описание предметной области и требования

https://docs.google.com/document/d/1-_DgZIrc7sK97jgG5NsHBsYBcBo7vsXbLMf2EG1Rv9I/edit?usp=sharing

### Схема базы данных

Концептуальная схема - `concept_schema.puml`
Логическая схема - `logical_schema.puml`
Физическая схема - `database.sql`

### Типовые запросы

* `sample_requests/external_users_view` - получить отображение "подтвержденный внешний пользователь, насыщенный внутренними данными нашего ID сервиса"
* `sample_requests/user_gender_stats` - найти число пользователей каждого пола, если их больше 5-ти
* `sample_requests/active_sessions_count` - посчитать активные сессии для каждого пользователя
* `sample_requests/user_sessions_rank` - найти пользователей с их последними активными сессиями и добавить информацию о ранге активности (на основе времени создания сессий)
* `sample_requests/find_users_without_sessions` - найти пользователей без активных сессий.

### Анализ нормальных форм таблиц

Все таблицы, кроме `clients_join_data`, находятся в 3NF. Данная же таблица
находится в 2NF, поскольку нет суррогатного первичного ключа - он здесь не нужен,
так как пара `(user_id, client_id)` однозначно идентифицирует запись.